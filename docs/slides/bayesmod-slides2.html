<!DOCTYPE html>
<html lang="en"><head>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-html/tabby.min.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/all.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/fontawesome6-0.1.0/latex-fontsize.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.2.335">

  <meta name="author" content="Léo Belzile">
  <meta name="dcterms.date" content="2023-01-01">
  <title>Special topics in data science — Bayesian modelling - Bayesian modelling</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="../site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
    }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
  <link rel="stylesheet" href="../site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="../site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-color="#ff585d" class="quarto-title-block center">
  <h1 class="title">Bayesian modelling</h1>
  <p class="subtitle">Priors</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Léo Belzile 
</div>
</div>
</div>

  <p class="date">2023</p>
</section>
<section id="priors" class="slide level2">
<h2>Priors</h2>
<p>The posterior density is</p>
<p><span class="math display">\[\begin{align*}
\color{#D55E00}{p(\boldsymbol{\theta} \mid \boldsymbol{Y})} = \frac{\color{#0072B2}{p(\boldsymbol{Y} \mid \boldsymbol{\theta})} \times  \color{#56B4E9}{p(\boldsymbol{\theta})}}{\color{#E69F00}{\int p(\boldsymbol{Y} \mid \boldsymbol{\theta}) p(\boldsymbol{\theta})\mathrm{d} \boldsymbol{\theta}}},
\end{align*}\]</span></p>
<p>where <span class="math display">\[\color{#D55E00}{\text{posterior}} \propto \color{#0072B2}{\text{likelihood}} \times \color{#56B4E9}{\text{prior}}\]</span></p>
<p>We need to determine a suitable prior.</p>
</section>
<section id="impact-of-the-prior" class="slide level2">
<h2>Impact of the prior</h2>
<p>The posterior is a compromise prior and likelihood:</p>
<ul>
<li>the more informative the prior, the more the posterior resembles it.</li>
<li>in large samples, the effect of the prior is often negligible<sup>1</sup></li>
</ul>
<aside><ol class="aside-footnotes"><li id="fn1"><p>depends on the parameter!</p></li></ol></aside></section>
<section id="controversial" class="slide level2">
<h2>Controversial?</h2>
<ul>
<li>No unique choice for the prior: different analysts get different inferences</li>
<li>What is the robustness to the prior specification? Check through sensitivity analysis.</li>
<li>By tuning the prior, we can get any answer we get (if informative enough)</li>
<li>Even with prior knowledge, hard to elicit parameter (many different models could yield similar summary statistics)</li>
</ul>
</section>
<section id="choosing-priors" class="slide level2">
<h2>Choosing priors</h2>
<p>Infinite number of choice, but many default choices…</p>
<ul>
<li>conditionally conjugate priors (ease of interpretation, computational advantages)</li>
<li>flat priors and vague priors (mostly uninformative)</li>
<li>informative priors (expert opinion)</li>
<li>Jeffrey’s priors (improper, invariant to reparametrization)</li>
<li>penalized complexity (regularization)</li>
<li>shrinkage priors (variable selection, reduce overfitting)</li>
</ul>
</section>
<section id="determining-hyperparameters" class="slide level2">
<h2>Determining hyperparameters</h2>
<p>We term <strong>hyperparameters</strong> the parameters of the (hyper)priors.</p>
<p>How to elicit reasonable values for them?</p>
<ul>
<li>use moment matching to get sensible values</li>
<li>trial-and-error using the prior predictive</li>
</ul>
</section>
<section id="example-of-simple-linear-regression" class="slide level2">
<h2>Example of simple linear regression</h2>
<p>Working with standardized response and inputs <span class="math display">\[x_i \mapsto (x_i - \overline{x})/\mathrm{sd}(\boldsymbol{x}),\]</span></p>
<ul>
<li>the slope is the correlation between explanatory <span class="math inline">\(\mathrm{X}\)</span> and response <span class="math inline">\(Y\)</span></li>
<li>the intercept should be mean zero</li>
<li>are there sensible bounds for the range of the response?</li>
</ul>
</section>
<section id="bixi-counts" class="slide level2">
<h2>Bixi counts</h2>

<img data-src="bayesmod-slides2_files/figure-revealjs/fig-bixi-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Figure&nbsp;1: Prior draws of the linear regression coefficients with observed data superimposed (left), and scatterplot of prior predictive draws (light gray) against observed data (right). There are 20 docks on the platform.</p></section>
<section id="example-2---simple-linear-regression" class="slide level2">
<h2>Example 2 - simple linear regression</h2>
<p>Consider the relationship between height (<span class="math inline">\(Y\)</span>, in cm) and weight (<span class="math inline">\(X\)</span>, in kg) among humans adults.<sup>1</sup></p>
<p>Model using a simple linear regression</p>
<p><span class="math display">\[\begin{align*}
h_i &amp;\sim \mathsf{No}(\mu_i, \sigma^2) \\
\mu_i &amp;= \beta_0 + \beta_1(\mathrm{x}_i - \overline{x}) \\
\beta_0 &amp;\sim \mathsf{No}(178, 20^2) \\
\sigma &amp;\sim \mathsf{U}(0, 50)
\end{align*}\]</span></p>
<aside><ol class="aside-footnotes"><li id="fn2"><p>Section 4.4.1 of <span class="citation" data-cites="McElreath:2020">McElreath (<a href="#/references" role="doc-biblioref" onclick="">2020</a>)</span></p></li></ol></aside></section>
<section id="priors-for-the-slope" class="slide level2 smaller">
<h2>Priors for the slope</h2>

<img data-src="bayesmod-slides2_files/figure-revealjs/fig-priors-draw-height-weight-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Figure&nbsp;2: Prior draws of linear regressions with different priors: vague <span class="math inline">\(\beta_1 \sim \mathsf{No}(0, 100)\)</span> (left) and lognormal <span class="math inline">\(\ln(\beta_1) \sim \mathsf{No}(0,1)\)</span> (right). Figure 4.5 of <span class="citation" data-cites="McElreath:2020">McElreath (<a href="#/references" role="doc-biblioref" onclick="">2020</a>)</span>. The Guiness record for the world’s tallest person is 272cm.</p></section>
<section id="conjugate-priors" class="slide level2">
<h2>Conjugate priors</h2>
<p>A prior density <span class="math inline">\(p(\boldsymbol{\theta})\)</span> is conjugate for likelihood <span class="math inline">\(L(\boldsymbol{\theta}; \boldsymbol{y})\)</span> if the product <span class="math inline">\(L(\boldsymbol{\theta}; \boldsymbol{y})p(\boldsymbol{\theta})\)</span>, after renormalization, is of the same parametric family as the prior.</p>
<p>Distributions that are exponential family admit conjugate priors.<sup>1</sup></p>
<aside><ol class="aside-footnotes"><li id="fn3"><p>A distribution is an exponential family if it’s density can be written <span class="math display">\[\begin{align*}
f(y; \boldsymbol{\theta}) = \exp\left\{ \sum_{k=1}^K Q_k(\boldsymbol{\theta}) t_k(y) + D(\boldsymbol{\theta})\right\}.
\end{align*}\]</span> The support of <span class="math inline">\(f\)</span> mustn’t depend on <span class="math inline">\(\boldsymbol{\theta}\)</span>.</p></li></ol></aside></section>
<section id="conjugate-priors-for-common-exponential-families" class="slide level2">
<h2>Conjugate priors for common exponential families</h2>
<table>
<colgroup>
<col style="width: 34%">
<col style="width: 32%">
<col style="width: 32%">
</colgroup>
<thead>
<tr class="header">
<th>distribution</th>
<th style="text-align: left;">unknown parameter</th>
<th style="text-align: left;">conjugate prior</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(Y \sim \mathsf{Exp}(\lambda)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\lambda\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\lambda \sim \mathsf{Ga}(\alpha, \beta)\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(Y \sim \mathsf{Po}(\mu)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\mu\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\mu \sim \mathsf{Ga}(\alpha, \beta)\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(Y \sim \mathsf{Bin}(n, \theta)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\theta\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\theta \sim \mathsf{Be}(\alpha, \beta)\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(Y \sim \mathsf{No}(\mu, \sigma^2)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\mu\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\mu \sim \mathsf{No}(\nu, \omega^2)\)</span></td>
</tr>
<tr class="odd">
<td><span class="math inline">\(Y \sim \mathsf{No}(\mu, \sigma^2)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\sigma\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\sigma^{-2} \sim \mathsf{Ga}(\alpha, \beta)\)</span></td>
</tr>
<tr class="even">
<td><span class="math inline">\(Y \sim \mathsf{No}(\mu, \sigma^2)\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\mu, \sigma\)</span></td>
<td style="text-align: left;"><span class="math inline">\(\mu \mid \sigma^2 \sim \mathsf{No}(\nu, \omega \sigma^2)\)</span>, <span class="math inline">\(\sigma^{-2} \sim \mathsf{Ga}(\alpha, \beta)\)</span></td>
</tr>
</tbody>
</table>
</section>
<section id="conjugate-prior-for-the-poisson" class="slide level2">
<h2>Conjugate prior for the Poisson</h2>
<p>If <span class="math inline">\(Y \sim \mathsf{Po}(\mu)\)</span> with density <span class="math inline">\(f(y) = \mu^x\exp(-\mu x)/x!\)</span>, then for <span class="math inline">\(\mu \sim \mathsf{Ga}(\alpha, \beta)\)</span> with <span class="math inline">\(\alpha, \beta\)</span> fixed.</p>
<p><span class="math display">\[
p(\mu \mid y) \stackrel{\mu}{\propto} \mu^x \exp(-\mu x) \mu^{\alpha-1} \exp(-\beta \mu)
\]</span> so the posterior is gamma <span class="math inline">\(\mathsf{Ga}(x + \alpha, x + \beta)\)</span>.</p>
<p><em>Parameter interpretation</em>: <span class="math inline">\(\alpha\)</span> events in <span class="math inline">\(\beta\)</span> time intervals.</p>
</section>
<section id="conjugate-prior-for-gaussian-known-variance" class="slide level2 smaller">
<h2>Conjugate prior for Gaussian (known variance)</h2>
<p>Consider an iid sample, <span class="math inline">\(Y_i \sim \mathsf{No}(\mu, \sigma^2)\)</span> and let <span class="math inline">\(\mu \mid \sigma \sim \mathsf{No}(\nu, \sigma^2\tau^2)\)</span>. Then, <span class="math display">\[\begin{align*}
p(\mu, \sigma) &amp;\propto \frac{p(\sigma)}{\sigma^{n+1}} \exp\left\{ -\frac{1}{2\sigma^2}\sum_{i=1}^n (y_{i}-\mu)^2\right\} \exp\left\{-\frac{1}{2\sigma^2\tau^2}(\mu - \nu)^2\right\}
\\&amp;\propto \frac{p(\sigma)}{\sigma^{n+1}} \exp\left\{\left(\sum_{i=1}^n y_{i} + \frac{\nu}{\tau^2}\right)\frac{\mu}{\sigma^2} - \left( \frac{n}{2} +\frac{1}{2\tau^2}\right)\frac{\mu^2}{\sigma^2}\right\}.
\end{align*}\]</span></p>
<p>The conditional posterior <span class="math inline">\(p(\mu \mid \sigma)\)</span> is Gaussian with</p>
<ul>
<li>mean <span class="math inline">\((n\overline{y}\tau^2 + \nu)/(n\tau^2 + 1)\)</span> and</li>
<li>precision (reciprocal variance) <span class="math inline">\((n + 1/\tau^2)/\sigma^2\)</span>.</li>
</ul>
</section>
<section id="upworthy-examples" class="slide level2">
<h2>Upworthy examples</h2>
<ul>
<li>The Upworthy Research Archive <span class="citation" data-cites="Matias:2021">(<a href="#/references" role="doc-biblioref" onclick="">Matias et al., 2021</a>)</span> contains results for 22743 experiments, with a click through rate of 1.58% on average and a standard deviation of 1.23%.</li>
<li>We consider an A/B test that compared four different headlines for a story.</li>
<li>We model the conversion <strong>rate</strong> for each using <span class="math inline">\(\texttt{click}_i \sim \mathsf{Po}(\lambda_i\texttt{impression}_i)\)</span></li>
</ul>
</section>
<section id="ab-test-sesame-street-example" class="slide level2">
<h2>A/B test: Sesame street example</h2>
<div class="cell" data-hash="bayesmod-slides2_cache/revealjs/upworthy_91b5fae631bc16c863b24ca97973b009">
<div class="cell-output-display">
<table>
<thead>
<tr class="header">
<th style="text-align: left;">headline</th>
<th style="text-align: right;">impressions</th>
<th style="text-align: right;">clicks</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">H1</td>
<td style="text-align: right;">3060</td>
<td style="text-align: right;">49</td>
</tr>
<tr class="even">
<td style="text-align: left;">H2</td>
<td style="text-align: right;">2982</td>
<td style="text-align: right;">20</td>
</tr>
<tr class="odd">
<td style="text-align: left;">H3</td>
<td style="text-align: right;">3112</td>
<td style="text-align: right;">31</td>
</tr>
<tr class="even">
<td style="text-align: left;">H4</td>
<td style="text-align: right;">3083</td>
<td style="text-align: right;">9</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Conjugate prior: moment matching for <span class="math inline">\(\lambda \sim \mathsf{Ga}(\alpha, \beta )\)</span> gives <span class="math inline">\(\alpha = 1.64\)</span> and <span class="math inline">\(\beta = 0.01\)</span>, as <span class="math inline">\(\beta = \mathsf{Va}_0(\lambda)/\mathsf{E}_0(\lambda)\)</span>.</p>
</section>
<section id="posterior-distributions-for-sesame-street" class="slide level2">
<h2>Posterior distributions for Sesame Street</h2>

<img data-src="bayesmod-slides2_files/figure-revealjs/fig-upworthy-1.png" width="768" class="r-stretch quarto-figure-center"><p class="caption">Figure&nbsp;3: Gamma posterior of the conversion rate for the Upworthy Sesame street headline.</p></section>
<section id="proper-priors" class="slide level2">
<h2>Proper priors</h2>
<div id="thm-proper-priors" class="theorem">
<p><span class="theorem-title"><strong>Theorem 1 </strong></span>A sufficient condition for a prior to yield a proper (i.e., integrable) posterior density function is that it is (proportional) to a density function.</p>
</div>
<ul>
<li>If we pick an improper prior, we need to check that the posterior is well-defined.</li>
<li>The answer to this question may depend on the sample size.</li>
</ul>
</section>
<section id="proper-posterior-in-a-random-effect-model" class="slide level2">
<h2>Proper posterior in a random effect model</h2>
<p>Consider a Gaussian random effect model with <span class="math inline">\(n\)</span> independent observations in <span class="math inline">\(J\)</span> groups</p>
<p>The <span class="math inline">\(i\)</span>th observation in group <span class="math inline">\(j\)</span> is <span class="math display">\[\begin{align*}
Y_{ij} &amp;\sim \mathsf{No}(\mu_{ij}, \sigma^2) \\
\mu_{ij}&amp;= \mathbf{X}_i \boldsymbol{\beta} + \alpha_j,  \\
\alpha_j &amp;\sim \mathsf{No}(0, \tau^2)\\
...
\end{align*}\]</span></p>
</section>
<section id="conditions-for-a-proper-posterior" class="slide level2">
<h2>Conditions for a proper posterior</h2>
<ul>
<li>for <span class="math inline">\(\tau \sim \mathsf{U}(0, \infty)\)</span>, we need at least <span class="math inline">\(J \geq 3\)</span> ‘groups’ for the posterior to be proper.</li>
<li>if we take <span class="math inline">\(p(\tau) \propto \tau^{-1}\)</span>, the posterior is never proper.</li>
</ul>
<p>As <span class="citation" data-cites="Gelman:2006">Gelman (<a href="#/references" role="doc-biblioref" onclick="">2006</a>)</span> states:</p>
<blockquote>
<p>in a hierarchical model the data can never rule out a group-level variance of zero, and so [a] prior distribution cannot put an infinite mass in this area</p>
</blockquote>
</section>
<section id="improper-priors-as-limiting-cases" class="slide level2">
<h2>Improper priors as limiting cases</h2>
<p>We can view the improper prior as a limiting case <span class="math display">\[\sigma \sim \mathsf{U}(0, t), \qquad t \to \infty.\]</span></p>
<p>The Haldane prior for <span class="math inline">\(\theta\)</span> in a binomial model is <span class="math inline">\(\theta^{-1}(1-\theta)^{-1}\)</span>, a limiting <span class="math inline">\(\mathsf{Be}(0,0)\)</span> distribution.</p>
<p>The improper prior <span class="math inline">\(p(\sigma) \propto \sigma^{-1}\)</span> is equivalent to an inverse gamma <span class="math inline">\(\mathsf{IGa}(\epsilon, \epsilon)\)</span> when <span class="math inline">\(\epsilon \to 0\)</span>.</p>
<p>The limiting posterior is thus improper for random effects scales, so the value of <span class="math inline">\(\epsilon\)</span> matters.</p>
</section>
<section id="mdi-prior-for-generalized-pareto" class="slide level2">
<h2>MDI prior for generalized Pareto</h2>
<p>Let <span class="math inline">\(Y_i \sim \mathsf{GP}(\sigma, \xi)\)</span> be generalized Pareto with density <span class="math display">\[f(x) = \sigma^{-1}(1+\xi x/\sigma)_{+}^{-1/\xi-1}\]</span> for <span class="math inline">\(\sigma&gt;0\)</span> and <span class="math inline">\(\xi \in \mathbb{R}\)</span>, and <span class="math inline">\(x_{+} =\max\{0, x\}\)</span>.</p>
<p>Consider the maximum data information (MDI) <span class="math display">\[p(\xi) \propto \exp(-\xi).\]</span></p>
<p>Since <span class="math inline">\(\lim_{\xi \to -\infty} \exp(-\xi) = \infty\)</span>, the prior density increases without bound as <span class="math inline">\(\xi\)</span> becomes smaller.</p>
</section>
<section id="truncated-mdi-for-generalized-pareto-distribution" class="slide level2">
<h2>Truncated MDI for generalized Pareto distribution</h2>
<p>The MDI prior leads to an improper posterior without modification.</p>

<img data-src="bayesmod-slides2_files/figure-revealjs/fig-mdiprior-1.png" style="width:100.0%" class="r-stretch quarto-figure-center"><p class="caption">Figure&nbsp;4: Unscaled maximum data information (MDI) prior density.</p><p>If we restrict the range of the MDI prior <span class="math inline">\(p(\xi)\)</span> to <span class="math inline">\(\xi \geq -1\)</span>, then <span class="math inline">\(p(\xi + 1) \sim \mathsf{Exp}(1)\)</span> and posterior is proper.</p>
</section>
<section id="flat-priors" class="slide level2">
<h2>Flat priors</h2>
<p>Uniform prior over the support of <span class="math inline">\(\theta\)</span>, <span class="math display">\[p(\theta) \propto 1.\]</span></p>
<p>Improper prior unless <span class="math inline">\(\theta \in [a,b]\)</span> for finite <span class="math inline">\(a, b\)</span>.</p>
</section>
<section id="flat-priors-for-scale-parameters" class="slide level2">
<h2>Flat priors for scale parameters</h2>
<p>Consider a scale parameter <span class="math inline">\(\sigma &gt; 0\)</span>.</p>
<ul>
<li>We could truncate the range, e.g., <span class="math inline">\(\sigma \sim \mathsf{U}(0, 50)\)</span>, but this is not ‘uninformative’, as extreme values of <span class="math inline">\(\sigma\)</span> are as likely as small ones.</li>
<li>These priors are not invariant: if <span class="math inline">\(p\{\log(\sigma)\} \propto 1\)</span> implies <span class="math inline">\(p(\sigma) \propto \sigma^{-1}\)</span> so can be informative on another scale.</li>
</ul>
</section>
<section id="vague-priors" class="slide level2">
<h2>Vague priors</h2>
<p>Vague priors are very diffuse proper prior.</p>
<p>For example, a vague Gaussian prior for regression coefficients on standardized data, <span class="math display">\[\boldsymbol{\beta} \sim \mathsf{No}_p(\mathbf{0}_p, 100\mathbf{I}_p).\]</span></p>
<ul>
<li>if we consider a logistic regression with a binary variable <span class="math inline">\(\mathrm{X}_j \in \{0,1\}\)</span>, then <span class="math inline">\(\beta_j =5\)</span> gives odds ratios of 150, and <span class="math inline">\(\beta_j=10\)</span> of around 22K…</li>
</ul>
</section>
<section id="invariance-and-jeffreys-prior" class="slide level2">
<h2>Invariance and Jeffrey’s prior</h2>
<p>In single-parameter models, the <strong>Jeffrey’s prior</strong> <span class="math display">\[p(\theta) \propto |\imath(\theta)|^{1/2},\]</span> proportional to the square root of the determinant of the Fisher information matrix, is invariant to any (differentiable) reparametrization.</p>
</section>
<section id="jeffreys-prior-for-the-binomial-distribution" class="slide level2">
<h2>Jeffrey’s prior for the binomial distribution</h2>
<p>Consider <span class="math inline">\(Y \sim \mathsf{Bin}(1, \theta)\)</span>. The negative of the second derivative of the log likelihood with respect to <span class="math inline">\(p\)</span> is <span class="math display">\[
\jmath(\theta) = - \partial^2 \ell(\theta; y) / \partial \theta^2 = y/\theta^2 + (1-y)/(1-\theta)^2.
\]</span></p>
<p>Since <span class="math inline">\(\mathsf{E}(Y)=\theta\)</span>, the Fisher information is <span class="math display">\[\imath(\vartheta) = \mathsf{E}\{\jmath(\theta)\}=1/\theta + 1/(1-\theta) = n/\{\theta(1-\theta)\}.\]</span> Jeffrey’s prior is therefore <span class="math inline">\(p(\theta) \propto \theta^{-1/2}(1-\theta)^{-1/2}\)</span>, a conjugate Beta prior <span class="math inline">\(\mathsf{Be}(0.5,0.5)\)</span>.</p>
</section>
<section id="invariant-priors-for-location-scale-families" class="slide level2">
<h2>Invariant priors for location-scale families</h2>
<p>For a location-scale family with location <span class="math inline">\(\mu\)</span> and scale <span class="math inline">\(\sigma\)</span>, the independent priors <span class="math display">\[\begin{align*}
p(\mu) &amp;\propto 1\\
p(\sigma) &amp;\propto \sigma^{-1}
\end{align*}\]</span> are location-scale invariant.</p>
<p>The results are invariant to affine transformations of the units, <span class="math inline">\(\vartheta = a + b \theta\)</span>.</p>
</section>
<section id="penalized-complexity-priors" class="slide level2">
<h2>Penalized complexity priors</h2>
<p><span class="citation" data-cites="Simpson:2017">Simpson et al. (<a href="#/references" role="doc-biblioref" onclick="">2017</a>)</span> consider a principled way of constructing priors that penalized model complexity for stable inference and limit over-specification.</p>
<p>Suppose that the restriction of the parameter creates a simpler base version.</p>
<ul>
<li>e.g., if we have a random effect <span class="math inline">\(\alpha \sim \mathsf{No}(0, \zeta^2)\)</span>, the value <span class="math inline">\(\zeta=0\)</span> corresponds to no group variability.</li>
</ul>
</section>
<section id="ingredients-of-penalized-complexity-priors" class="slide level2">
<h2>Ingredients of penalized complexity priors</h2>
<p>Consider a penalized complexity prior for parameter <span class="math inline">\(\zeta\)</span>.</p>
<p><strong>Occam’s razor</strong> states that the simpler base model should be preferred if there is not enough evidence in favor of the full model.</p>
<p>We measure the complexity of the full model with density <span class="math inline">\(f\)</span> using the Kullback–Leibler divergence between <span class="math inline">\(f\)</span> and base model <span class="math inline">\(f_0\)</span> densities. This is transformed into a distance <span class="math inline">\(d=\sqrt{2\mathsf{KL}(f || f_0)}\)</span>.</p>
</section>
<section id="penalized-complexity-prior-construction" class="slide level2">
<h2>Penalized complexity prior construction</h2>
<p>Using a constant rate penalization from base model gives an exponential prior <span class="math inline">\(p(d) = \lambda \exp(-\lambda d)\)</span> on the distance scale, with a mode at <span class="math inline">\(d=0\)</span>, corresponding to the base model.</p>
<p>Backtransform to parameter space to get <span class="math inline">\(p(\zeta)\)</span>, truncate above if <span class="math inline">\(d\)</span> is upper bounded, <span class="math display">\[p(\zeta) = \lambda \exp\{-\lambda \cdot d(\zeta)\} \left| \frac{\partial d(\zeta)}{\partial \zeta}\right|.\]</span></p>
</section>
<section id="fixing-penalized-complexity-hyperparameter" class="slide level2">
<h2>Fixing penalized complexity hyperparameter</h2>
<p>Pick rate <span class="math inline">\(\lambda\)</span> to control prior density in the tail, by specifying a value for (a transformation of) the parameter, say <span class="math inline">\(g(\zeta)\)</span>, which is interpretable.</p>
<p>Elicit values of <span class="math inline">\(Q\)</span> and small probability <span class="math inline">\(\alpha\)</span> such that the tail probability <span class="math display">\[\Pr\{g(\zeta) &gt; Q\} = \alpha.\]</span></p>
</section>
<section id="penalized-complexity-prior-for-random-effect-scale" class="slide level2">
<h2>Penalized complexity prior for random effect scale</h2>
<p>If <span class="math inline">\(\alpha_j \sim \mathsf{No}(0, \zeta^2)\)</span>, the penalized complexity prior is exponential with rate <span class="math inline">\(\lambda\)</span>.</p>
<p>Given <span class="math inline">\(Q\)</span> a high quantile of the standard deviation <span class="math inline">\(\zeta\)</span>, set <span class="math inline">\(\lambda = -\ln(\alpha/Q)\)</span>.</p>
</section>
<section id="priors-for-scale-of-random-effects" class="slide level2">
<h2>Priors for scale of random effects</h2>
<p>The conjugate inverse gamma prior <span class="math inline">\(p(1/\zeta) \sim \mathsf{Ga}(\alpha, \beta)\)</span> is such that the mode for <span class="math inline">\(\zeta\)</span> is <span class="math inline">\(\beta/(1+\alpha)\)</span>.</p>
<p>Often, we take <span class="math inline">\(\beta=\alpha = 0.01\)</span> or <span class="math inline">\(0.001\)</span>, but this leads to improper prior. So small values are not optimal for ‘random effects’, and this prior cannot provide shrinkage or allow for no variability between groups.</p>
</section>
<section id="priors-for-scale-of-random-effects-1" class="slide level2">
<h2>Priors for scale of random effects</h2>
<p>A popular suggestion, due to <span class="citation" data-cites="Gelman:2006">Gelman (<a href="#/references" role="doc-biblioref" onclick="">2006</a>)</span>, is to take a centered Student-<span class="math inline">\(t\)</span> distribution with <span class="math inline">\(\nu\)</span> degrees of freedoms, truncated over <span class="math inline">\([0, \infty)\)</span> with scale <span class="math inline">\(s\)</span>.</p>
<ul>
<li>since the mode is at zero, provides support for the base model</li>
<li>we want small degrees of freedom <span class="math inline">\(\nu\)</span>, preferable to take <span class="math inline">\(\nu=3\)</span>? Cauchy model (<span class="math inline">\(\nu=1\)</span>) still popular.</li>
</ul>
</section>
<section id="prior-sensitivity" class="slide level2">
<h2>Prior sensitivity</h2>
<p>Does the priors matter? As robustness check, one can fit the model with</p>
<ul>
<li>different priors function</li>
<li>different hyperparameter values</li>
</ul>
<p>Costly, but may be needed to convince reviewers ;)</p>
</section>
<section id="distraction-from-smartwach" class="slide level2">
<h2>Distraction from smartwach</h2>
<p>We consider an experimental study conducted at Tech3Lab on road safety.</p>
<ul>
<li>In <span class="citation" data-cites="Brodeur:2021">Brodeur et al. (<a href="#/references" role="doc-biblioref" onclick="">2021</a>)</span>, 31 participants were asked to drive in a virtual environment.</li>
<li>The number of road violation was measured for 4 different type of distractions (phone notification, phone on speaker, texting and smartwatch).</li>
<li>Balanced data, random order of tasks</li>
</ul>
</section>
<section id="poisson-mixed-model" class="slide level2">
<h2>Poisson mixed model</h2>
<p>We model the number of violations, <code>nviolation</code> as a function of distraction type (<code>task</code>) and participant <code>id</code>.<sup>1</sup> <span class="math display">\[\begin{align*}
\texttt{nviolation}_{ij} &amp;\sim \mathsf{Po}(\mu_{ij})\\
\mu_{ij} &amp;= \exp(\beta_{j} + \alpha_i),\\
\beta_j &amp;\sim \mathsf{No}(0, 100), \\
\alpha_i &amp;\sim \mathsf{No}(0, \kappa^2).
\end{align*}\]</span></p>
<aside><ol class="aside-footnotes"><li id="fn4"><p>Specifically, <span class="math inline">\(\beta_j\)</span> is the coefficient for <code>task</code> <span class="math inline">\(j\)</span> (distraction type) and <span class="math inline">\(\alpha_i\)</span> is the random effect of participant <span class="math inline">\(i\)</span>.</p></li></ol></aside></section>
<section id="priors-for-random-effect-scale" class="slide level2">
<h2>Priors for random effect scale</h2>
<p>Consider different priors for <span class="math inline">\(\kappa\)</span></p>
<ul>
<li>flat uniform prior <span class="math inline">\(\mathsf{U}(0,10)\)</span></li>
<li>conjugate inverse gamma <span class="math inline">\(\mathsf{IG}(0.01, 0.01)\)</span> prior</li>
<li>a Student-<span class="math inline">\(t\)</span> with <span class="math inline">\(\nu=3\)</span> degrees of freedom</li>
<li>a penalized complexity prior such that the 0.95 percentile of the scale is 5, corresponding to <span class="math inline">\(\mathsf{Exp}(0.6)\)</span>.</li>
</ul>
</section>
<section id="sensitivity-analysis-for-smartwatch-data" class="slide level2">
<h2>Sensitivity analysis for smartwatch data</h2>

<img data-src="fig/fig-sensitivity.png" width="672" class="r-stretch quarto-figure-center"><p class="caption">Figure&nbsp;5: Posterior density of <span class="math inline">\(\zeta\)</span> for four different priors. The circle denotes the median and the bars the 50% and 95% percentile credible intervals.</p><p>Basically indistinguishable results for the random scale..</p>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>

<div class="footer footer-default">

</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-line-spacing="2" role="doc-bibliography">
<div id="ref-Brodeur:2021" class="csl-entry" role="doc-biblioentry">
Brodeur, M., Ruer, P., Léger, P.-M., &amp; Sénécal, S. (2021). Smartwatches are more distracting than mobile phones while driving: Results from an experimental study. <em>Accident Analysis &amp; Prevention</em>, <em>149</em>, 105846. <a href="https://doi.org/10.1016/j.aap.2020.105846">https://doi.org/10.1016/j.aap.2020.105846</a>
</div>
<div id="ref-Gelman:2006" class="csl-entry" role="doc-biblioentry">
Gelman, A. (2006). Prior distributions for variance parameters in hierarchical models (comment on article by <span>B</span>rowne and <span>D</span>raper). <em>Bayesian Analysis</em>, <em>1</em>(3), 515–534. <a href="https://doi.org/10.1214/06-BA117A">https://doi.org/10.1214/06-BA117A</a>
</div>
<div id="ref-Matias:2021" class="csl-entry" role="doc-biblioentry">
Matias, J. N., Munger, K., Le Quere, M. A., &amp; Ebersole, C. (2021). The <span>U</span>pworthy <span>R</span>esearch <span>A</span>rchive, a time series of 32,487 experiments in <span>U.S.</span> media. <em>Scientific Data</em>, <em>8</em>(195). <a href="https://doi.org/10.1038/s41597-021-00934-7">https://doi.org/10.1038/s41597-021-00934-7</a>
</div>
<div id="ref-McElreath:2020" class="csl-entry" role="doc-biblioentry">
McElreath, R. (2020). <em>Statistical rethinking: A <span>B</span>ayesian course with examples in <span>R</span> and <span>STAN</span></em> (2nd ed.). Chapman; Hall/CRC.
</div>
<div id="ref-Simpson:2017" class="csl-entry" role="doc-biblioentry">
Simpson, D., Rue, H., Riebler, A., Martins, T. G., &amp; Sørbye, S. H. (2017). Penalising model component complexity: A principled, practical approach to constructing priors. <em>Statistical Science</em>, <em>32</em>(1), 1–28. <a href="https://doi.org/10.1214/16-STS576">https://doi.org/10.1214/16-STS576</a>
</div>
</div>
</section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="../site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="../site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="../site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="../site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="../site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="../site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="../site_libs/revealjs/plugin/search/search.js"></script>
  <script src="../site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="../site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>